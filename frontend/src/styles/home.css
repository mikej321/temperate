.home_container {
    grid-area: content;
    display: grid;
    grid-template-areas: "recent" "search" "loader" "section1" "section2" "section3" "section4" "section5";
    grid-template-rows: repeat(7, minmax(0, auto));
    grid-auto-rows: minmax(0, auto);
    gap: 4rem;
    padding-inline: 2rem;
    padding-bottom: 2rem;
}

@media screen and (min-width: 1000px) {
  .home_container {
    grid-template-areas: "search . ." "section1 section4 section5" "section2 section3 section3";
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: unset;
    gap: unset;
    /* max-width: 1600px; */
    min-width: 100%;
    padding-inline: 10rem;
    justify-self: center;
    column-gap: 4rem;
    row-gap: 4rem;
    margin-top: 6rem;
  }

  .home_container:has(.popup_shell):not(:has(.loader_overlay)) {
    grid-template-areas: "search . ." "popup section4 section5" "section1 section4 section5" "section2 section3 section3";
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: unset;
  }

  .home_container:has(.loader_overlay):not(:has(.popup_shell)) {
    grid-template-areas: "search . ." "loader section4 section5" "section1 section4 section5" "section2 section3 section3";
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: unset;
  }

  .home_container:has(.popup_shell):has(.loader_overlay) {
    grid-template-areas: "search . ." "popup section4 section5" "loader section4 section5" "section1 section4 section5" "section2 section3 section3";
    grid-template-columns: repeat(3, 1fr); 
    grid-template-rows: unset;
  }

  .section_content.section_1 .section_content_container {
    grid-template-rows: repeat(3, 100px);
    grid-template-columns: 1fr .5fr;
    padding: 2rem;
    align-items: unset;
  }

  .section_content.section_2 .section_content_container {
    gap: 2rem;
  }

  .section_content.section_3 .section_content_container {
    align-items: center;
  }
}

.loader_overlay {
    grid-area: loader;
    display: flex;
    align-items: center;
    justify-content: center;
}

.home_icon_container {
    grid-area: image;
    position: relative;
    display: flex;
    align-items: center;
    height: 100%;
    justify-self: center;
    min-width: 0;
    min-height: 0;
    max-width: 25rem;
}

.home_details_container {
    grid-area: details;
    inline-size: min(100%, 380px);
    min-inline-size: 0;
    margin-inline: auto;
    /* margin-block: 4rem; */
    min-width: 0;
    min-height: 0;
}

.home_quickcast_container {
    grid-area: quickcast;
    inline-size: min(100%, 380px);
    min-inline-size: 0;
    margin-inline: auto;
    min-width: 0;
    min-height: 0;
}

.home_temp_container {
    display: flex;
    grid-area: temp;
}

.section_content {
    display: grid;
    grid-template-rows: auto 1fr;
    border-radius: 12px;
    box-shadow:  5px 5px 15px #a7cdef,
             -5px -5px 15px #bde7ff;
    transition: box-shadow 0.2s ease-in-out;
}

.section_1 .section_content_container {
  align-items: center;
}

.page_container.dark_mode .section_content {
  box-shadow:  1px 1px 12px #8b5fd0,
             0px -1px 12px #8d61d4;
}

.section_content_container {
    padding: 4rem 2rem;
    display: grid;
}

.section_content.section_1 .section_content_container {
    grid-template-areas: "location location" "temp image" "description image";
}

.section_content.section_2 .section_content_container {
    grid-template-areas: "details";
}

.section_content.section_3 .section_content_container {
    grid-template-areas: "quickcast";
}

.section_content.section_4 .section_content_container {
    grid-template-areas: "map";
}

.section_title {
    display: flex;
    align-items: center;
    font-size: 16px;
    font-family: var(--poppins_titles);
    font-weight: 700;
    padding: 2rem;
    color: var(--argentinian_blue_500);
    background: var(--cadet_gray_100);
    border-top-left-radius: 12px;
    border-top-right-radius: 12px;
    transition: color 0.2s ease-in-out,
                background 0.2s ease-in-out;
}

.page_container.dark_mode .section_title {
    background: var(--dark_mode_primary_2);
    color: var(--cadet_gray_100);
}

.page_container.dark_mode .feels_like_label,
.page_container.dark_mode .feels_like_temp,
.page_container.dark_mode .low_temp_label,
.page_container.dark_mode .low_temp,
.page_container.dark_mode .high_temp_label,
.page_container.dark_mode .high_temp,
.page_container.dark_mode .humidity_label,
.page_container.dark_mode .humidity,
.page_container.dark_mode .sunrise_label,
.page_container.dark_mode .sunrise,
.page_container.dark_mode .sunset_label,
.page_container.dark_mode .sunset,
.page_container.dark_mode .wind_direction_label,
.page_container.dark_mode .wind_direction,
.page_container.dark_mode .wind_speed_label,
.page_container.dark_mode .wind_speed  {
  color: white;
}

.section_content.section_1 { grid-area: section1; }
.section_content.section_2 { grid-area: section2; }
.section_content.section_3 { grid-area: section3; }
.section_content.section_4 { grid-area: section4; }
.section_content.section_5 {
  grid-area: section5;
}

@media screen and (min-width: 400px) {
    .home_details_container {
        inline-size: min(100%, 710px);
    }

    .home_quickcast_container {
        inline-size: min(100%, 710px);
    }
}

@media screen and (min-width: 600px) {
    .home_description_container {
        width: min(100%, 303px);
        /* margin-bottom: 2rem; */
    }
}

@media screen and (min-width: 1000px) {
    .home_details_container {
        align-self: end;
        margin-top: 0;
    }

    .home_quickcast_container {
        inline-size: 100%;
        /* margin-top: 4rem;
        margin-bottom: 8rem; */
    }
}

/* 

I'm going to have to make every element it's own element instead of putting them into "Sections"
via flexbox. It's going to be difficult but this will allow me to map the layout with one set
of elements without having to make duplicate elements just for mobile / desktop.

*/

/* =============================
   HOME LAYOUT — GRID + GUARDS
   ============================= */

/* Make every grid child behave (no forced overflow) */
.home_container > .section_content {
  min-width: 0;              /* critical: prevents horizontal overflow in grid */
  min-height: 0;
}

/* =============================
   SECTION 1 — TOP STRIP (temp/desc/icon)
   ============================= */

/* Optional polishing so the big icon never bursts the column */
.home_icon_container img,
.home_icon_container svg {
  max-inline-size: 100%;
  height: auto;
  display: block;
}

/* =============================
   SECTION 2 — DETAILS
   ============================= */
.section_content.section_2,
.home_details_container {
  min-width: 0;
  overflow: clip;
}

/* =============================
   SECTION 3 — DAILY QUICKCAST
   ============================= */
.section_content.section_3,
.home_quickcast_container {
  min-width: 0;
  overflow: clip
}

/* =============================
   SECTION 4 — MAP
   ============================= */
.section_content.section_4 {
  min-width: 0;
  overflow: clip;
}

/* Map canvas safety */
.section_content.section_4 canvas,
.section_content.section_4 img {
  max-inline-size: 100%;
  height: auto;
  display: block;
}

/* Desktop: full page grid; details sticks right, forecast below, map full width */
@media (min-width: 1024px) {
  
}

/* =============================
   OVERLAY / LOADER SAFETY
   (prevents overlays from creating layout overflow)
   ============================= */

.loader_overlay,
.section_error {
  min-width: 0;
  overflow: clip;
}

/* If any motion wrappers inject transforms, keep them composited without scrolling */
.section_content [data-motion] {
  contain: layout paint;
}
